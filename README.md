# 🍠 红薯助手 (Red Potato Helper)

专为小红书用户设计的数据采集助手，支持笔记采集、博主信息采集和飞书同步。

## ✨ 功能特性

### 1. 单篇笔记采集
- 打开小红书笔记详情页，一键采集笔记的完整信息
- 包括：标题、正文、图片、互动数据（点赞/收藏/评论）、发布时间等
- 支持图文笔记和视频笔记

### 2. 博主笔记批量采集
- 打开博主主页，自动滚动加载并采集所有笔记
- 自动去重，智能滚动
- 可逐条删除不需要的笔记

### 3. 博主信息采集
- 快速获取博主基础资料
- 包括：名称、头像、简介、小红书号、粉丝数等

### 4. 数据导出
- 一键导出为 Excel (CSV格式)
- 自动生成文件名和时间戳
- 完美支持中文

### 5. 飞书同步（可选）
- 配置飞书多维表格后可同步数据
- 支持Coze工作流集成
- 订单号验证机制，防止滥用
- **⭐ 趋势历史记录**：自动记录数据变化历史

### 6. 趋势历史记录 ⭐ 新功能
- **笔记数据趋势**：自动记录点赞数、收藏数、评论数的变化历史
- **博主粉丝趋势**：追踪博主粉丝增长情况
- **可视化分析**：清晰查看每次采集时的数据变化和增减量
- **数据对比**：对比不同时间段的增长速度

## 📦 安装方法

### 方式一：开发者模式加载（推荐）

1. 下载本项目的 ZIP 文件并解压
2. 打开 Chrome 浏览器，访问 `chrome://extensions/`
3. 开启右上角的「开发者模式」
4. 点击「加载已解压的扩展程序」
5. 选择解压后的 `red-helper` 文件夹
6. 安装完成！

### 方式二：直接使用项目文件

如果你已经克隆了项目：

```bash
# 进入项目目录
cd red-helper

# 然后按照「方式一」的步骤2-5操作
```

## 🚀 使用指南

### 第一步：打开插件

1. 访问小红书网站 (www.xiaohongshu.com)
2. 点击浏览器右上角的红薯助手图标 🍠
3. 侧边栏将自动打开

### 第二步：选择功能

在侧边栏顶部，选择你需要的功能：
- 📝 **单篇笔记** - 采集当前笔记详情页
- 📚 **博主笔记** - 批量采集博主所有笔记
- 👤 **博主信息** - 采集博主资料

### 第三步：开始采集

1. **单篇笔记采集**
   - 打开任意小红书笔记详情页
   - 点击「开始采集」按钮
   - 等待采集完成（约1-2秒）

2. **博主笔记批量采集**
   - 打开博主主页
   - 点击「开始采集」按钮
   - 插件会自动滚动并采集所有笔记（约20-60秒）
   - 采集过程中会显示进度

3. **博主信息采集**
   - 打开博主主页
   - 点击「开始采集」按钮
   - 即刻显示博主资料

### 第四步：导出或同步

采集完成后，你可以：

- **导出 Excel**：点击「导出 Excel」按钮，文件会自动保存到下载文件夹
- **同步飞书**：点击「同步飞书」按钮（需先配置飞书）
- **删除单条**：在笔记列表中，点击右侧的删除图标

## ⚙️ 飞书配置（可选）

如果需要同步数据到飞书多维表格：

### 快速配置

1. 点击右上角的「设置」图标 ⚙️
2. 填写以下信息：
   - **订单号**：用于验证用户权限
   - **多维表格授权码**：飞书的 Personal Access Token
   - **Coze API Token**：Coze 平台的 API Token
   - **「笔记采集库」表格链接**：存储单篇笔记
   - **「小红书博主笔记概览」表格链接**：存储博主笔记列表
   - **「小红书博主库」表格链接**：存储博主信息
   - **单篇笔记工作流 ID**：Coze 工作流 ID
   - **博主笔记工作流 ID**：Coze 工作流 ID
   - **博主信息工作流 ID**：Coze 工作流 ID
3. 点击「保存配置」

### 详细配置教程

完整的配置步骤请查看：[《Coze工作流配置指南.md》](../red-helper-docs/Coze工作流配置指南.md)

包含：
- 如何创建飞书表格
- 如何配置 Coze 工作流
- 如何获取各种 Token 和 ID
- 常见问题解决方案

更多文档请查看：[📚 文档索引](../red-helper-docs/📚文档索引.md)

配置完成后，即可使用「同步飞书」功能。

## 📁 项目结构

```
red-helper/
├── manifest.json          # 插件配置文件
├── background.js          # 后台服务脚本
├── sidebar.html           # 侧边栏界面
├── sidebar.css            # 样式文件
├── sidebar.js             # 交互逻辑
├── content.js             # 数据采集核心
├── images/                # 图标资源
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md              # 项目文档
```

## 🎨 设计理念

红薯助手采用现代化的UI设计：

- **柔和配色**：温暖的橙色 + 温润的灰色
- **大圆角**：16-24px的圆角设计
- **Material Icons**：统一的图标系统
- **优雅提示**：4种提示类型（成功/错误/警告/信息）
- **流畅动画**：微妙的过渡效果

## ⚠️ 注意事项

1. **页面要求**
   - 单篇笔记采集：需在笔记详情页（URL包含 `/explore/`）
   - 博主笔记采集：需在博主主页（URL包含 `/user/profile/`）
   - 博主信息采集：需在博主主页

2. **采集速度**
   - 单篇笔记：约1-2秒
   - 博主笔记：取决于笔记数量，通常20-60秒
   - 博主信息：约1秒

3. **数据准确性**
   - 采集的数据来自页面显示内容
   - 小红书页面结构变化可能影响采集准确性
   - 建议采集后检查数据完整性

4. **合规使用**
   - 仅用于个人学习研究
   - 不得用于商业用途
   - 尊重内容创作者权益

## 🔧 技术栈

- **Manifest V3**：最新的 Chrome 扩展规范
- **原生 JavaScript**：无框架依赖，性能优异
- **Material Symbols**：Google 图标系统
- **Chrome APIs**：storage, tabs, sidePanel, runtime

## 🐛 常见问题

### Q: 点击采集按钮没有反应？
A: 请确保：
1. 在正确的小红书页面上（笔记详情页或博主主页）
2. 页面已完全加载
3. 刷新页面后重试

### Q: 采集的数据不完整？
A: 可能原因：
1. 页面还在加载中，等待几秒后重试
2. 小红书页面结构发生变化
3. 网络较慢，部分内容未加载

### Q: 同步飞书失败？
A: 请检查：
1. 是否已正确配置飞书信息
2. 多维表格授权码是否有效
3. 表格链接是否正确

### Q: 如何更新插件？
A: 
1. 下载新版本的 ZIP 文件
2. 解压到原文件夹（覆盖）
3. 在 `chrome://extensions/` 页面点击「重新加载」

## 📄 许可证

本项目仅供学习交流使用，请勿用于商业用途。

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📮 联系方式

如有问题或建议，欢迎反馈。

---

Made with ❤️ by 红薯助手团队

Version: 1.2.0

## 📚 相关文档

所有详细文档已移至 [red-helper-docs](../red-helper-docs/) 文件夹：

- [📚 文档索引](../red-helper-docs/📚文档索引.md) - 快速找到你需要的文档
- [🚀 快速开始](../red-helper-docs/快速开始.md) - 5分钟快速上手
- [🔧 Coze工作流配置指南](../red-helper-docs/Coze工作流配置指南.md) - 详细配置教程（含趋势功能）
- [📦 订单号管理与授权验证指南](../red-helper-docs/订单号管理指南.md) - 订单管理+防滥用机制
- [📊 飞书多维表格节点配置详解](../red-helper-docs/飞书多维表格节点配置详解.md) - 技术细节
- [📝 更新日志](../red-helper-docs/更新日志.md) - 版本更新记录

## 🆕 V1.2.0 新功能

### 趋势历史记录

从 V1.2.0 版本开始，红薯助手支持自动记录数据变化历史：

**功能特点：**
- 📈 自动追踪：每次采集同一笔记/博主时，自动记录数据变化
- 📊 完整历史：保留所有历史记录，不会覆盖
- 🎯 精确对比：显示每次采集的时间、数值和增减量
- 💡 趋势分析：轻松发现增长趋势和异常变化

**支持的趋势数据：**
- 单篇笔记：点赞数、收藏数、评论数
- 博主笔记：点赞数
- 博主信息：粉丝数

**趋势数据格式示例：**
```
01/13 18:45, 2500, +300
01/13 14:20, 2200, +200
01/13 10:30, 2000
```

详细配置请查看：[Coze工作流配置指南 - 趋势历史记录章节](../red-helper-docs/Coze工作流配置指南.md#🔥-新功能趋势历史记录)

